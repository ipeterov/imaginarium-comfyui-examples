{"id":"5952d9cf-284f-45f8-9b86-3b080567c343","revision":0,"last_node_id":27,"last_link_id":44,"nodes":[{"id":26,"type":"PreviewImage","pos":[1531.98974609375,-192.2350311279297],"size":[695.8793334960938,589.69189453125],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":44}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewImage"}},{"id":27,"type":"PreviewImage","pos":[3005.6689453125,-192.23500061035156],"size":[695.8793334960938,589.69189453125],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":43}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewImage"}},{"id":17,"type":"PreviewImage","pos":[2264.460693359375,-189.59414672851562],"size":[695.8793334960938,589.69189453125],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":23}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":8,"type":"VAEDecode","pos":[1257.5166015625,-183.22686767578125],"size":[210,266],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":7},{"localized_name":"vae","name":"vae","type":"VAE","link":10}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[16,44]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":3,"type":"KSampler","pos":[897.0584106445312,-185.499267578125],"size":[315,262],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":36},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":4},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":6},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":2},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"KSampler"},"widgets_values":[327808440763888,"randomize",20,8,"euler","normal",1]},{"id":6,"type":"CLIPTextEncode","pos":[903.8650512695312,162.7928924560547],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":38},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[4,20]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"CLIPTextEncode"},"widgets_values":["1girl, black dress, standing, long black hair, tachi-e, white background, full body shot, medium breasts"]},{"id":7,"type":"CLIPTextEncode","pos":[911.5828857421875,382.6823425292969],"size":[425.27801513671875,180.6060791015625],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":39},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[6,19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"CLIPTextEncode"},"widgets_values":["text, watermark, out of frame"]},{"id":5,"type":"EmptyLatentImage","pos":[526.864013671875,-169.2393341064453],"size":[315,106],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[2]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,1024,1]},{"id":11,"type":"CheckpointLoaderSimple","pos":[559.3866577148438,322.80230712890625],"size":[270,98],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[36,37]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[38,39,40]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[10,18]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["CyberRealisticPony_V12.safetensors"]},{"id":16,"type":"UltralyticsDetectorProvider","pos":[2215.845947265625,721.2328491210938],"size":[270,78],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"BBOX_DETECTOR","name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[21]},{"localized_name":"SEGM_DETECTOR","name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null}],"properties":{"cnr_id":"comfyui-impact-subpack","ver":"1365a5d3770e187ac1f5dfcf1f9c21310dc8bfa7","Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":15,"type":"SAMLoader","pos":[2214.359619140625,851.2036743164062],"size":[270,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device_mode","name":"device_mode","type":"COMBO","widget":{"name":"device_mode"},"link":null}],"outputs":[{"localized_name":"SAM_MODEL","name":"SAM_MODEL","type":"SAM_MODEL","links":[22]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.17.1","Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":24,"type":"RMBG","pos":[3202.476806640625,549.7740478515625],"size":[340,266],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"Image","name":"image","type":"IMAGE","link":41},{"localized_name":"Background Color","name":"background_color","shape":7,"type":"COLOR","link":null},{"localized_name":"Model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"Sensitivity","name":"sensitivity","shape":7,"type":"FLOAT","widget":{"name":"sensitivity"},"link":null},{"localized_name":"Processing Resolution","name":"process_res","shape":7,"type":"INT","widget":{"name":"process_res"},"link":null},{"localized_name":"Mask Blur","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null},{"localized_name":"Mask Offset","name":"mask_offset","shape":7,"type":"INT","widget":{"name":"mask_offset"},"link":null},{"localized_name":"Invert Output","name":"invert_output","shape":7,"type":"BOOLEAN","widget":{"name":"invert_output"},"link":null},{"localized_name":"Refine Foreground","name":"refine_foreground","shape":7,"type":"BOOLEAN","widget":{"name":"refine_foreground"},"link":null},{"localized_name":"Background","name":"background","shape":7,"type":"COMBO","widget":{"name":"background"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[43]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null},{"localized_name":"MASK IMAGE","name":"MASK_IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"2.5.0","Node name for S&R":"RMBG"},"widgets_values":["RMBG-2.0",1,1024,0,0,false,false,"Alpha"],"color":"#222e40","bgcolor":"#364254"},{"id":14,"type":"FaceDetailer","pos":[2514.69384765625,562.8135375976562],"size":[400,960],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":16},{"localized_name":"model","name":"model","type":"MODEL","link":37},{"localized_name":"clip","name":"clip","type":"CLIP","link":40},{"localized_name":"vae","name":"vae","type":"VAE","link":18},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":20},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":19},{"localized_name":"bbox_detector","name":"bbox_detector","type":"BBOX_DETECTOR","link":21},{"localized_name":"sam_model_opt","name":"sam_model_opt","shape":7,"type":"SAM_MODEL","link":22},{"localized_name":"segm_detector_opt","name":"segm_detector_opt","shape":7,"type":"SEGM_DETECTOR","link":null},{"localized_name":"detailer_hook","name":"detailer_hook","shape":7,"type":"DETAILER_HOOK","link":null},{"localized_name":"scheduler_func_opt","name":"scheduler_func_opt","shape":7,"type":"SCHEDULER_FUNC","link":null},{"localized_name":"guide_size","name":"guide_size","type":"FLOAT","widget":{"name":"guide_size"},"link":null},{"localized_name":"guide_size_for","name":"guide_size_for","type":"BOOLEAN","widget":{"name":"guide_size_for"},"link":null},{"localized_name":"max_size","name":"max_size","type":"FLOAT","widget":{"name":"max_size"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null},{"localized_name":"feather","name":"feather","type":"INT","widget":{"name":"feather"},"link":null},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null},{"localized_name":"force_inpaint","name":"force_inpaint","type":"BOOLEAN","widget":{"name":"force_inpaint"},"link":null},{"localized_name":"bbox_threshold","name":"bbox_threshold","type":"FLOAT","widget":{"name":"bbox_threshold"},"link":null},{"localized_name":"bbox_dilation","name":"bbox_dilation","type":"INT","widget":{"name":"bbox_dilation"},"link":null},{"localized_name":"bbox_crop_factor","name":"bbox_crop_factor","type":"FLOAT","widget":{"name":"bbox_crop_factor"},"link":null},{"localized_name":"sam_detection_hint","name":"sam_detection_hint","type":"COMBO","widget":{"name":"sam_detection_hint"},"link":null},{"localized_name":"sam_dilation","name":"sam_dilation","type":"INT","widget":{"name":"sam_dilation"},"link":null},{"localized_name":"sam_threshold","name":"sam_threshold","type":"FLOAT","widget":{"name":"sam_threshold"},"link":null},{"localized_name":"sam_bbox_expansion","name":"sam_bbox_expansion","type":"INT","widget":{"name":"sam_bbox_expansion"},"link":null},{"localized_name":"sam_mask_hint_threshold","name":"sam_mask_hint_threshold","type":"FLOAT","widget":{"name":"sam_mask_hint_threshold"},"link":null},{"localized_name":"sam_mask_hint_use_negative","name":"sam_mask_hint_use_negative","type":"COMBO","widget":{"name":"sam_mask_hint_use_negative"},"link":null},{"localized_name":"drop_size","name":"drop_size","type":"INT","widget":{"name":"drop_size"},"link":null},{"localized_name":"wildcard","name":"wildcard","type":"STRING","widget":{"name":"wildcard"},"link":null},{"localized_name":"cycle","name":"cycle","type":"INT","widget":{"name":"cycle"},"link":null},{"localized_name":"inpaint_model","name":"inpaint_model","shape":7,"type":"BOOLEAN","widget":{"name":"inpaint_model"},"link":null},{"localized_name":"noise_mask_feather","name":"noise_mask_feather","shape":7,"type":"INT","widget":{"name":"noise_mask_feather"},"link":null},{"localized_name":"tiled_encode","name":"tiled_encode","shape":7,"type":"BOOLEAN","widget":{"name":"tiled_encode"},"link":null},{"localized_name":"tiled_decode","name":"tiled_decode","shape":7,"type":"BOOLEAN","widget":{"name":"tiled_decode"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[23,41]},{"localized_name":"cropped_refined","name":"cropped_refined","shape":6,"type":"IMAGE","links":[]},{"localized_name":"cropped_enhanced_alpha","name":"cropped_enhanced_alpha","shape":6,"type":"IMAGE","links":[]},{"localized_name":"mask","name":"mask","type":"MASK","links":[]},{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","links":null},{"localized_name":"cnet_images","name":"cnet_images","shape":6,"type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.17.1","Node name for S&R":"FaceDetailer"},"widgets_values":[512,true,1024,407129095043790,"randomize",20,8,"euler","normal",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20,false,false]}],"links":[[2,5,0,3,3,"LATENT"],[4,6,0,3,1,"CONDITIONING"],[6,7,0,3,2,"CONDITIONING"],[7,3,0,8,0,"LATENT"],[10,11,2,8,1,"VAE"],[16,8,0,14,0,"IMAGE"],[18,11,2,14,3,"VAE"],[19,7,0,14,5,"CONDITIONING"],[20,6,0,14,4,"CONDITIONING"],[21,16,0,14,6,"BBOX_DETECTOR"],[22,15,0,14,7,"SAM_MODEL"],[23,14,0,17,0,"IMAGE"],[36,11,0,3,0,"MODEL"],[37,11,0,14,1,"MODEL"],[38,11,1,6,0,"CLIP"],[39,11,1,7,0,"CLIP"],[40,11,1,14,2,"CLIP"],[41,14,0,24,0,"IMAGE"],[43,24,0,27,0,"IMAGE"],[44,8,0,26,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.573085533011682,"offset":[-1352.268014393456,105.58095084361386]}},"version":0.4}